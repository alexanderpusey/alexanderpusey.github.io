<!doctype html>
<html lang="en">
    <head>

        <title>alexanderpusey.github.io</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">

    </head>

    <body>

        <div class="page-centered-x">

            <div class="column">

                <div class="header">
                    <a href="/index.html">
                        <h1 class="title">alexanderpusey.github.io</h1>
                    </a>
                </div>

                <div class="module">
                    <div id="navmenu" class="interiorBorder">
                        <div class="navitem">
                            <a href="projects.html">[*] Projects</a>
                        </div>
                        <div class="navitem">
                            <a href="about.html">[*] About</a>
                        </div>
                        <div class="navitem">
                            <a href="misc.html">[*] Misc</a>
                        </div>
                    </div>
                </div>

                <!-- top and bottom padding adjustment -->
                <div class="module" style="padding: 16px 0 12px 0">
                    <div class="gallery interiorBorder">
                        <img src="media/metroboulotdodo.png">
                    </div>
                    <span class="gallery-footer">
                        <div id="project-counter"><< >></div>
                        <a href="projects.html"><div id="all-projects">all projects</div></a>
                    </span>
                </div>

            </div>

        </div>

        <span tabindex="1" ></span>
        <span tabindex="2"></span>

    </body>

    <!-- <audio controls autoplay src="/media/.wav"></audio> -->

    <script>


        class NavSelection {
            constructor(outerElements) {
                this.outerElements = outerElements
            }

            create() {
                for (const [key, element] of Object.entries(this.outerElements)) {
                    element.HTML.classList.remove(...element.defaultStyle)
                    element.HTML.classList.add(...element.style)
                }
            }

            destroy() {
                for (const [key, element] of Object.entries(this.outerElements)) {
                    element.HTML.classList.remove(...element.style)
                    element.HTML.classList.add(...element.defaultStyle)
                }
            }
        }

        selections = [
            new NavSelection(
                [
                    {HTML: document.getElementById('navmenu'), defaultStyle: ['interiorBorder'], style: ['selectedBorder']},
                ],
            ),
            new NavSelection(
                [
                    {HTML: document.getElementsByClassName('gallery')[0], defaultStyle: ['interiorBorder'], style: ['selectedBorder']},
                    {HTML: document.getElementById('project-counter'), defaultStyle: ['none'], style: ['underline']},
                ],
            ),
            new NavSelection(
                [
                    {HTML: document.getElementById('all-projects'), defaultStyle: ['none'], style: ['underline']},
                ],
            ),
        ]

        moduleIndex = 0
        maxModuleIndex = selections.length - 1
        selections[moduleIndex].create()
    
        document.addEventListener("keydown", (e) => {
            e.preventDefault()
            if (e.key == "Tab") {
                selections[moduleIndex].destroy()
                if (moduleIndex == maxModuleIndex) { moduleIndex = 0 }
                else { moduleIndex++ }
                selections[moduleIndex].create()
            }
            else {
                selections[moduleIndex].keyEvent(e.key)
            }
        })

    </script>

</html>
