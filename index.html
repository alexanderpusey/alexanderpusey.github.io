<!doctype html>
<html lang="en">
    <head>

        <title>alexanderpusey.github.io</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">

    </head>

    <body>

        <div class="page-centered-x">

            <div class="column">

                <a href="https://alexanderpusey.github.io/">
                    <h1 class="title">alexanderpusey.github.io</h1>
                </a>

                <div class="module">
                    <div id="navmenu" class="interiorBorder">
                        <div class="navitem">
                            <a href="projects.html">[*] Projects</a>
                        </div>
                        <div class="navitem">
                            <a href="about.html">[*] About</a>
                        </div>
                        <div class="navitem">
                            <a href="misc.html">[*] Misc</a>
                        </div>
                    </div>
                </div>

                <!-- top and bottom padding adjustment -->
                <div class="module" style="padding: 16px 0 12px 0">
                    <div class="gallery interiorBorder">
                        <img src="media/metroboulotdodo.png">
                    </div>
                    <span class="gallery-footer">
                        <div id="project-counter"><< >></div>
                        <a href="projects.html"><div id="all-projects">all projects</div></a>
                    </span>
                </div>

            </div>

        </div>

        <span tabindex="1" ></span>
        <span tabindex="2"></span>

    </body>

    <!-- <audio controls autoplay src="/media/.wav"></audio> -->

    <script>

        class Selection {
            constructor(selections, select, next) {
                this.selections = selections 
                this.select =  select
                this.next = next
            }
        }

        async function main() {
            // get featured projects
            datajson = await fetch('data.json').then(res => res.json())
            featuredProjects = await datajson.projects.filter(project => project.featured)

            // get module selection HTML
            let navmenu = document.getElementById("navmenu")
            let gallery = document.getElementsByClassName("gallery")[0]
            let projectlink = document.getElementById("all-projects")

            // selection tree
            selections = [
                new Selection(["big ting"], () => {
                    navmenu.classList.remove("interiorBorder")
                    navmenu.classList.add("selectedBorder")
                }, () => {
                    navmenu.classList.remove("selectedBorder")
                    navmenu.classList.add("interiorBorder")
                    return 1
                }),
                new Selection(["nothing"], () => {
                    gallery.classList.remove("interiorBorder")
                    gallery.classList.add("selectedBorder")
                }, () => {
                    gallery.classList.remove("selectedBorder")
                    gallery.classList.add("interiorBorder")
                    return 2
                }),
                new Selection(["nothing"], () => {
                    projectlink.style.textDecoration = "underline"
                }, () => {
                    projectlink.style.textDecoration = "none"
                    return 0
                })
            ]
            
            selectedModule = selections[0]
            selectedModule.select()

            document.addEventListener("keydown", (e) => {
                e.preventDefault()
                switch (e.key) {
                    case "ArrowUp":
                        break   
                    case "ArrowDown":
                        break
                    case "ArrowRight":
                        break
                    case "ArrowLeft":
                        break
                    case "Enter":
                        break   
                    case "Tab":
                        selectedModule = selections[selectedModule.next()]
                        selectedModule.select()
                }
            })
        }

        main()

    </script>

</html>
