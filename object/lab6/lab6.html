<html>

<head>
    <link rel="stylesheet" href="../../css/ica3a.css">
</head>

<body>
    <h1>ATLS 3300 Lab 6: Just a Motor of Time</h1>
    <h2>Lab Overview</h2>
    <p>
        In this lab we worked with servo and DC motors.
    </p>
    <h2>Materials Used</h2>
    <section>
        <p>All materials but the multimeter are sourced from the Elegoo Super Starter Kit UNO R3 Project Kit</p>
        <ul>
            <li>Elegoo Uno R3 Controller Board</li>
            <li>USB Cable</li>
            <li>USB-C to USB-A Adapter</li>
            <li>830 Tie-Points Breadboard</li>
            <li>Breadboard Jumper Wire</li>
            <li>Resistors</li>
            <li>Power Supply Module</li>
            <li>Servo Motor SG90</li>
            <li>DC Motor and Fan Blade</li>
            <li>L293D IC</li>
            <li>Button</li>
            <li>Potentiometer</li>
            <li>9V Battery with Snap-on Connector</li>
            <li>Multimeter</li>
        </ul>
    </section>
    <h2>Part 0: Setting up Power</h2>
    <section>
        <p>
            The Ardunio board can't output enough current to power a motor, this means we need to set up an external power 
            source. The picture below shows my power module connected to a breadboard.
        </p>
        <img src="./media/powermodule.jpeg" style="width:400px">
    </section>
    <h2>Part 1: Wiring the Servo</h2>
    <section>
        <p>
            To control a servo motor, the 5V and ground should be wired to the power lines of the power supply module, and the
            signal wire (orange/yellow) should be connected to an PWM Arduino pin. The PWM pins on the Ardunio are pins 3, 5, 6, 9, 10, 11
            and are labeled with a ~ symbol. The photo below shows my circuit.
        </p>
        <img src="./media/servocircuit.jpeg" style="width:400px">
        <p>
            To communicate with the servo, we'll be using the built in Servo.h library. The below photo shows the Servo.h library
            is installed within the Ardunio IDE. 
        </p>
        <img src="./media/installed.png" style="width:400px">
        <p>
            The video below shows the servo turning using the sketch given to us in the documentation.
        </p>
        <video controls width="500">
            <source src="./media/docsketch.MOV" type="video/mp4">
        </video>
    </section>
    <h2>Part 2: Controlling the Servo</h2>
    <section>
        <p>
            The lab's second part required us to use the potentiometer to control movement of the servo. The below photo shows
            my circuit with the addition of the potentiometer.
        </p>
        <img src="./media/potentiometercircuit.jpeg" style="width:400px">
        <p>
            To convert the analog reading of the potentiometer to an angle for the servo, I used the map() function. The sketch can be viewed
            <a href="https://gist.github.com/alexanderpusey/0df106d6469c7656fe5a8b70174b0a25">here</a>, and the result is shown below.
        </p>
        <video controls width="500">
            <source src="./media/potentiometer.MOV" type="video/mp4">
        </video>
        <p>
            Next, we were tasked with using the potentiometer to change the speed of the sweeping servo. This was accomplished by changing the delay between
            servoA.write() statements. The <a href="https://gist.github.com/alexanderpusey/2980899eb44b3be126bd7514457aaae4">modified sketch</a> is shown running below.
        </p>
        <video controls width="500">
            <source src="./media/speedsweeper.MOV" type="video/mp4">
        </video>
    </section>
    <h2>Part 3: DC Motor and Motor Drivers</h2>
    <section>
        <p>
            This part of the lab required us to use the DC motor, I wired it to my arduino as such.
        </p>
        <img src="./media/dcmotor.JPG" style="width:450px">
        <video controls width="500">
            <source src="./media/dcmotor.MOV" type="video/mp4">
        </video>
        <p>
            To drive the DC motor, I included the L293D chip in the circuit. I then ran the provided <a href="https://gist.github.com/alexanderpusey/4db4dd79a988924cf455ab8e6add3faa">sketch</a> which can be 
            seen running below.
        </p>
        <img src="./media/motordriver.JPG" style="width:400px">
        <video controls width="500">
            <source src="./media/provided.mov" type="video/mp4">
        </video>
        <p>
            We were then tasked to code the motor to follow the below actions using the rampUp() and rampDown() functions.
        </p>
            <ol>
                <li>Turn forward at full speed for 1 seconds</li>
                <li>Stop for 1 second</li>
                <li>Turn backwards at full speed for 1 seconds</li>
                <li>Stop for 1 second. Go back to 1</li>
            </ol>
        <p>
            My code can be seen <a href="https://gist.github.com/alexanderpusey/77abc6f215221e2e26490f5cccd134fb">here</a> and is shown running below.
        </p>
        <video controls width="500">
            <source src="./media/ramped.MOV" type="video/mp4">
        </video>
    </section>
    <h2>Part 4: Table-Top Fan</h2>
    <section>
        <p>
            For the final part of the lab we were tasked with attaching the dc motor to the servo motor, and coding a script which turned the servo from 0 to 120 degrees while running the dc motor at 70 percent power.
            Below is a photo showing how I attached the servo to the dc motor, and a video of the <a href="https://gist.github.com/alexanderpusey/0fae3356a0fb1ea8c810c8e395ae66fe">script</a> running. To run the fan at 70% speed, a PWM value of 179 is needed.
        </p>
                <img src="./media/attached.JPG" style="width:400px">
                <video controls width="500">
                    <source src="./media/fan.MOV" type="video/mp4">
                </video>
    <h2>Conclusion</h2>
    <section>
        <p>
            Honestly this lab felt endless and I'm glad to be done with it.
        </p>
    </section>
</body>

</html>