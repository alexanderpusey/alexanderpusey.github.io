<!doctype html>
<html lang="en">
    <head>

        <title>alexanderpusey.github.io</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">

    </head>

    <body>

        <div class="page-centered-x">

            <div class="column">

                <a href="/index.html">
                    <div class="header">
                        <div class="back-link"> &lt; back</div>
                    </div>
                </a>

                <div id="projects"></div>
                
            </div>

        </div>

    </body>

    <script>
        const projects = document.getElementById("projects")

        async function main() {
            let data = await fetch("/data.json").then(res => res.json())
            data.projects.forEach(p => {
                const project = document.createElement("a")
                project.href = p.link

                const projectModule = document.createElement("div")
                projectModule.className = "module project"

                const projectImage = document.createElement("img")
                projectImage.src = p.img

                const projectText = document.createElement("div")
                projectText.className = "project-text"

                const projectTitle = document.createElement("p")
                projectTitle.className = "project-title"
                projectTitle.innerText = p.title

                const projectDescription = document.createElement("p")
                projectDescription.innerText = p.description

                projectModule.appendChild(projectImage)
                projectModule.appendChild(projectText)


                projectText.appendChild(projectTitle)
                projectText.appendChild(projectDescription)

                project.appendChild(projectModule)
                projects.appendChild(project)
                })
        }

        // escape back to previous page
        document.addEventListener("keydown", (e) => {
            e.preventDefault()
            if (e.key == "Escape") {
                history.back()
            }
        })

        main()

    </script>

</html>