<!doctype html>
<html lang="en">
    <head>

        <title>alexanderpusey.github.io</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">

    </head>

    <body>

        <div class="page-centered-x">

            <div class="column">

                <div class="header">
                    <a href="/index.html">
                        <div style=>&lt; back</div>
                    </a>
                </div>
                
                <div class="module">
                    <div id="projects"></div>
                </div>

            </div>

        </div>

    </body>

    <script>
        const projects = document.getElementById("projects")

        function populateProjects() {
            data.projects.forEach(p => {

                const project = document.createElement("div")
                project.className = "project-block"

                const projectInner = document.createElement("a")
                projectInner.href = p.link

                try {
                    const projectImage = document.createElement("img")
                    projectImage.className = "project-img"
                    projectImage.src = p.imgs[0]
                    projectInner.appendChild(projectImage)
                }
                catch {
                    
                }

                project.appendChild(projectInner)
                projects.appendChild(project)

            })
        }

        //instantiating
        var data

        async function getData() {
            try {
                const response = await fetch("/data.json")
                const json = await response.json()
                data = json
            }
            catch(error) {
                console.error('Error getting json', error)
            }
        }

        getData().then(() => {
            populateProjects()
        })

        document.addEventListener("keydown", (e) => {
            e.preventDefault()
            if (e.key == "Escape") {
                window.open('/index.html', '_self')
            }
        })

    </script>

</html>