<!doctype html>
<html>

    <head>
        <title>Alex's Website</title>
        <link rel="stylesheet" href="./swag.css">
    </head>

    <body>

        <div class="page-centered-x">

            <div id="column">

                <h1>projects</h1>
                <hr class="hidden"/>

                    <a href="./index.html"  class="content-block-title"> &lt; home</a>

            </div>

        </div>

    </body>

    <script>
        const projects = document.getElementById("column")

        function populateProjects() {
            data.projects.forEach(p => {

                const project = document.createElement("div")
                project.className = "content-block project-block"

                const projectInner = document.createElement("a")
                projectInner.href = p.link

                const projectTitle = document.createElement("p")
                projectTitle.className = "project-title"
                projectTitle.textContent = p.title

                projectInner.appendChild(projectTitle)

                try {
                    p.tags.forEach(label => {
                        const tag = document.createElement("div")
                        tag.className = "project-tag"
                        tag.textContent = label
                        projectInner.appendChild(tag)
                    })
                }
                catch {

                }

                project.appendChild(projectInner)
                projects.appendChild(project)

            })
        }

        //instantiating
        var data

        async function getData() {
            try {
                const response = await fetch("./data.json")
                const json = await response.json()
                data = json
            }
            catch(error) {
                console.error('Error getting json', error)
            }
        }

        getData().then(() => {
            populateProjects()
        })

    </script>

</html>