<!doctype html>
<html>

    <head>
        <title>Alex's Website</title>
        <link rel="stylesheet" href="./swag.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>

    <body>

        <div class="page-centered-x">

            <div id="column">

                <h1>Projects</h1>

                    <a href="./index.html"  class="content-block-title"> &lt; back</a>

            </div>

        </div>

    </body>

    <script>
        const projects = document.getElementById("column")

        function populateProjects() {
            data.projects.forEach(p => {

                const project = document.createElement("div")
                project.className = "content-block project-block"

                const projectInner = document.createElement("a")
                projectInner.href = p.link

                const projectTitle = document.createElement("p")
                projectTitle.className = "project-title"
                projectTitle.textContent = p.title

                projectInner.appendChild(projectTitle)

                p.tags.forEach(label => {
                    const tag = document.createElement("div")
                    tag.className = "project-tag"
                    tag.textContent = label + "   "
                    projectInner.appendChild(tag)
                })

                project.appendChild(projectInner)
                projects.appendChild(project)

            })
        }

        //instantiating
        var data

        async function getData() {
            try {
                const response = await fetch("./data.json")
                const json = await response.json()
                data = json
            }
            catch(error) {
                console.error('Error getting json', error)
            }
        }

        getData().then(() => {
            populateProjects()
        })

    </script>

</html>